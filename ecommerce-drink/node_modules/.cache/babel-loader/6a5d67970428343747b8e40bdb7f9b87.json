{"ast":null,"code":"import _objectSpread from \"/Users/nguyen.xuan.vinh/Desktop/github/code-dao-reactjs/ecommerce-drink/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/nguyen.xuan.vinh/Desktop/github/code-dao-reactjs/ecommerce-drink/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nguyen.xuan.vinh/Desktop/github/code-dao-reactjs/ecommerce-drink/src/components/pages/accounts/Edit.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { fetchData, updateData } from \"../../../mixins/fetchData\";\nimport { setMessage } from \"../../../actions/message.action\";\nimport { closeMessage } from \"../../closeMessage\";\nimport Breadcrumb from \"../../Breadcrumb\";\nexport default function Edit() {\n  const _useState = useState(Object),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  const dispatch = useDispatch();\n\n  const _useTranslation = useTranslation(),\n        t = _useTranslation.t;\n\n  const userExist = JSON.parse(sessionStorage.getItem(\"users\"));\n  const userId = userExist ? userExist.id : null;\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await fetchData(\"users\", {\n        id: userId\n      });\n      setUser(res);\n    };\n\n    fetchUser();\n  }, [userId]);\n\n  const handleChange = e => {\n    const target = e.target;\n    const name = target.name,\n          value = target.value;\n    setUser(_objectSpread({}, user, {\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    try {\n      const data = {\n        firstName: user.firstName,\n        lastName: user.lastName,\n        email: user.email,\n        address: user.address\n      };\n      updateData(\"users\", {\n        id: userId\n      }, data);\n      dispatch(setMessage(\"Cập nhật thành công\"));\n      dispatch(closeMessage(\"\"));\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  if (!userId) return React.createElement(\"section\", {\n    style: {\n      textAlign: \"center\",\n      padding: \"5rem\",\n      color: \"gray\"\n    },\n    className: \"main-cart\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, t(\"Sign in to see more\"));\n  return React.createElement(\"section\", {\n    className: \"box-profile-edit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(Breadcrumb, {\n    breadcrumbItem: \"Edit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"main-title-tl m-b-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"main-title-tl__tt detail__eff--left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, t(\"Edit\").toUpperCase()), React.createElement(\"div\", {\n    className: \"main-title-tl__eff detail__eff--left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"./images/titleleft-dark.png\",\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"box-profile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"box-profile__table m-b-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, t(\"First name\")), React.createElement(\"input\", {\n    onChange: handleChange,\n    name: \"firstName\",\n    type: \"text\",\n    value: user.firstName || \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }))), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, t(\"Last name\")), React.createElement(\"input\", {\n    onChange: handleChange,\n    name: \"lastName\",\n    type: \"text\",\n    value: user.lastName || \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }))), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"input\", {\n    onChange: handleChange,\n    name: \"email\",\n    type: \"text\",\n    value: user.email || \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }))), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, t(\"Address\")), React.createElement(\"input\", {\n    onChange: handleChange,\n    name: \"address\",\n    type: \"text\",\n    value: user.address || \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }))))), React.createElement(\"div\", {\n    className: \"box-profile__node-update\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"signin__sm-sn m-r-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, t(\"Update\").toUpperCase()), React.createElement(\"div\", {\n    className: \"signin__node-sn box-profile__node-back\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/profile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, t(\"Back\").toUpperCase())))))));\n}","map":{"version":3,"sources":["/Users/nguyen.xuan.vinh/Desktop/github/code-dao-reactjs/ecommerce-drink/src/components/pages/accounts/Edit.js"],"names":["React","useEffect","useState","useDispatch","Link","useTranslation","fetchData","updateData","setMessage","closeMessage","Breadcrumb","Edit","Object","user","setUser","dispatch","t","userExist","JSON","parse","sessionStorage","getItem","userId","id","fetchUser","res","handleChange","e","target","name","value","handleSubmit","preventDefault","data","firstName","lastName","email","address","console","log","textAlign","padding","color","toUpperCase"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { fetchData, updateData } from \"../../../mixins/fetchData\";\nimport { setMessage } from \"../../../actions/message.action\";\nimport { closeMessage } from \"../../closeMessage\";\nimport Breadcrumb from \"../../Breadcrumb\";\n\nexport default function Edit() {\n  const [user, setUser] = useState(Object);\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const userExist = JSON.parse(sessionStorage.getItem(\"users\"));\n  const userId = userExist ? userExist.id : null;\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await fetchData(\"users\", { id: userId });\n\n      setUser(res);\n    };\n\n    fetchUser();\n  }, [userId]);\n\n  const handleChange = e => {\n    const target = e.target;\n    const { name, value } = target;\n\n    setUser({ ...user, [name]: value });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    try {\n      const data = {\n        firstName: user.firstName,\n        lastName: user.lastName,\n        email: user.email,\n        address: user.address\n      };\n\n      updateData(\"users\", { id: userId }, data);\n      dispatch(setMessage(\"Cập nhật thành công\"));\n      dispatch(closeMessage(\"\"));\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  if (!userId)\n    return (\n      <section\n        style={{ textAlign: \"center\", padding: \"5rem\", color: \"gray\" }}\n        className=\"main-cart\"\n      >\n        {t(\"Sign in to see more\")}\n      </section>\n    );\n\n  return (\n    <section className=\"box-profile-edit\">\n      <div className=\"container\">\n        <Breadcrumb breadcrumbItem=\"Edit\" />\n        <div className=\"main-title-tl m-b-3\">\n          <h1 className=\"main-title-tl__tt detail__eff--left\">\n            {t(\"Edit\").toUpperCase()}\n          </h1>\n          <div className=\"main-title-tl__eff detail__eff--left\">\n            <img src=\"./images/titleleft-dark.png\" alt=\"\" />\n          </div>\n        </div>\n        <div className=\"box-profile\">\n          <form onSubmit={handleSubmit}>\n            <table className=\"box-profile__table m-b-3\">\n              <tbody>\n                <tr>\n                  <td>\n                    <b>{t(\"First name\")}</b>\n                    <input\n                      onChange={handleChange}\n                      name=\"firstName\"\n                      type=\"text\"\n                      value={user.firstName || \"\"}\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <b>{t(\"Last name\")}</b>\n                    <input\n                      onChange={handleChange}\n                      name=\"lastName\"\n                      type=\"text\"\n                      value={user.lastName || \"\"}\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <b>Email</b>\n                    <input\n                      onChange={handleChange}\n                      name=\"email\"\n                      type=\"text\"\n                      value={user.email || \"\"}\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <b>{t(\"Address\")}</b>\n                    <input\n                      onChange={handleChange}\n                      name=\"address\"\n                      type=\"text\"\n                      value={user.address || \"\"}\n                    />\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <div className=\"box-profile__node-update\">\n              <button className=\"signin__sm-sn m-r-1\">\n                {t(\"Update\").toUpperCase()}\n              </button>\n              <div className=\"signin__node-sn box-profile__node-back\">\n                <Link to=\"/profile\">{t(\"Back\").toUpperCase()}</Link>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </section>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}